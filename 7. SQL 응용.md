# 데이터베이스 기본
## 트랜잭션⭐
인가받지 않은 사용자로부터 데이터를 보장하기 위해 DBMS가 자겨야 하는 특성이자,   
DBMS에서 하나의 논리적 기능을 정상적으로 수행하기 위한 작업의 기본 단위이다.   

### 트랜잭션의 특성
1. 원자성(Atomicity)   
분해가 불가능한 작업의 최소 단위   
하나라도 실패할 경우 전체가 취소되는 특성   
2. 일관성(Consistency)   
트랜잭션 실행 성공 후 항상 일관된 데이터베이스 상태를 보존해야 하는 특성   
3. 격리성(Isolation)   
생성하는 연산의 중간 결과를 다른 트랜잭션이 접근 불가   
4. 영속성(Durability)   
성공이 완료된 트랜잭션의 결과는 영속적으로 DB에 저장하는 특성   

### 트랜잭션의 상태 변화
1. 활동 상태   
초기상태로 실행 중에 가지는 상태   
2. 부분 완료 상태   
마지막 명령문이 실행된 후 가지는 상태    
3. 완료 상태   
성공적으로 완료된 후 가지는 상태   
4. 실패 상태   
정상적인 실행이 더 이상 진행될 수 없을 때 가지는 상태   
5. 철회 상태   
트랜잭션이 취소되고 DB가 시작 전 상태로 환원된 상태   

### 트랜잭션 제어
TCL언어라고 하며, 트랜잭션 결과를 허용하거나 취소하는 목적으로 사용.   
1. 커밋(COMMIT)   
트랜잭션의 확정,메모리에 영구적으로 저장   
2. 롤백(ROLLBACK)   
트랜잭션의 취소, 저장 무효화시키는 명령어   
3. 체크포인트(CHECKPOINT)   
저장시기 설정, ROLLBACK을 위한 시점을 지정   

### 병행제어
다수 사용자 환경에서 여러 트랜잭션이 수행될때, DB의 일관성 유지를 위해 상호작용을 제어하는 기법.   
목적 = 공유를 최대화 & 활용을 최대화 & 일관성 유지 & 응답시간 최소화   

#### 병행 제어 미보장시 문제점
1. 갱신 손실   
먼저 실행된 트랜잭션의 결과를 나중에 실행된 트랜잭션이 덮어쓸 때 발생   
2. 현황 파악오류   
중간 수행 결과를 다른 트랜잭션이 참조하여 발생하는 오류   
3. 모순성   
두 트랜잭션이 동시에 실행되어 DB에서 일관성이 결여되는 오류    
4. 연쇄복귀   
복수의 트랜잭션이 데이터 공유시 특정 트랜잭션이 처리를 취소할 경우 트랜잭션이 처리한 곳의 부분을 취소하지 못하는 오류   
